"use strict";function o(){var o=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=e.show,r=void 0===n?function(){}:n,i=e.hide,s=void 0===i?function(){}:i,c=e.threshold,v=void 0===c?.01:c,d=e.once,h=void 0!==d&&d,a=e.root,u=void 0===a?null:a;v=Math.max(Math.min(v,1),.01);try{var l=new window.IntersectionObserver((function(e){e[0].intersectionRatio>=v?(r(),h&&o.stop()):s()}),{threshold:[v],root:u});l.observe(t),this.stop=function(){l.disconnect()}}catch(o){console.error(o.message,"\n不支持IntersectionObserver，升级浏览器或代码使用polyfill: https://github.com/w3c/IntersectionObserver")}}var e={inserted:function(e,t){var n=t.value,r=t.arg,i=t.modifiers;e.observer=new o({target:e,show:"function"==typeof n?n:n.show,hide:n.hide,threshold:r/100||void 0,once:i.once,root:n.dom})},unbind:function(o){o.observer&&"function"==typeof o.observer.stop&&o.observer.stop()},install:function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o.directive(t.directive||"observer",e)}};module.exports=e;
